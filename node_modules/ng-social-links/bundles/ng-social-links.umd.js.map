{"version":3,"file":"ng-social-links.umd.js","sources":["../../../projects/ng-social-links/src/lib/ng-social-links.tokens.ts","../../../projects/ng-social-links/src/lib/ng-social-links.constants.ts","../../../projects/ng-social-links/src/lib/ng-social-links.utils.ts","../../../projects/ng-social-links/src/lib/ng-social-links.service.ts","../../../projects/ng-social-links/src/lib/ng-social-links.module.ts","../../../projects/ng-social-links/src/public-api.ts","../../../projects/ng-social-links/src/ng-social-links.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nimport { NgSocialLinksProviderConfig } from './ng-social-links.types';\n\nexport const DEFAULT_SHARE_URL_CONFIG_TOKEN = new InjectionToken<NgSocialLinksProviderConfig>(\n  'ng-default-social-share-config'\n);\n","export class Providers {\n  static readonly facebook = 'fb';\n  static readonly twitter = 'tw';\n  static readonly linkedin = 'in';\n  static readonly mailto = 'mail';\n  static readonly vkontakte = 'vk';\n  static readonly telegram = 'tg';\n  static readonly getpocket = 'pocket';\n  static readonly reddit = 're';\n  static readonly evernote = 'ev';\n  static readonly pinterest = 'pi';\n  static readonly skype = 'sk';\n  static readonly whatsapp = 'wa';\n  static readonly connectOk = 'ok';\n  static readonly xing = 'xi';\n}\n\nexport class ProfilerUrls {\n  static readonly facebook = 'https://www.facebook.com/sharer/sharer.php';\n  static readonly twitter = 'https://twitter.com/intent/tweet';\n  static readonly linkedin = 'https://www.linkedin.com/sharing/share-offsite/';\n  static readonly mailto = 'mailto:';\n  static readonly vkontakte = 'https://vk.com/share.php';\n  static readonly telegram = 'https://t.me/share/url';\n  static readonly getpocket = 'https://getpocket.com/edit';\n  static readonly reddit = 'https://reddit.com/submit/';\n  static readonly evernote = 'https://www.evernote.com/clip.action';\n  static readonly pinterest = 'https://pinterest.com/pin/create/button/';\n  static readonly skype = 'https://web.skype.com/share';\n  static readonly whatsapp = 'whatsapp://send';\n  static readonly connectOk = 'https://connect.ok.ru/dk';\n  static readonly xing = 'https://www.xing.com/app/user';\n}\n","import {\n  NgSocialLinksProvider,\n  NgSocialLinksProviderConfig as Config\n} from '././ng-social-links.types';\nimport { Providers, ProfilerUrls } from './ng-social-links.constants';\n\n/**\n * Provides social share URL for a given provider.\n * @param provider Provider name.\n * @param config Parameters used to build a social share URL.\n */\nexport function getShareLink(provider: NgSocialLinksProvider, config: Partial<Config>): string {\n  let { url, title, description } = config;\n\n  if (!url) {\n    throw new Error('Mandatory parameter is missing: url.');\n  }\n\n  url = encodeURIComponent(url);\n\n  if (title) {\n    title = encodeURIComponent(title);\n  }\n\n  if (description) {\n    description = encodeURIComponent(description);\n  }\n\n  switch (provider) {\n    case Providers.facebook:\n      return `${ProfilerUrls.facebook}?u=${url}`;\n\n    case Providers.twitter:\n      return `${ProfilerUrls.twitter}?url=${url}` + (title ? `&text=${title}` : '');\n\n    case Providers.linkedin:\n      return `${ProfilerUrls.linkedin}?url=${url}` + (title ? '/&summary=' + title : '');\n\n    case Providers.vkontakte:\n      return `${ProfilerUrls.vkontakte}?url=${url}` + (title ? `&title=${title}` : '');\n\n    case Providers.telegram:\n      return `${ProfilerUrls.telegram}?url=${url}` + (title ? `&text=${title}` : '');\n\n    case Providers.getpocket:\n      return `${ProfilerUrls.getpocket}?url=${url}` + (title ? `&title=${title}` : '');\n\n    case Providers.reddit:\n      return `${ProfilerUrls.reddit}?url=${url}`;\n\n    case Providers.evernote:\n      return `${ProfilerUrls.evernote}?url=${url}` + (title ? `&t=${title}` : '');\n\n    case Providers.pinterest:\n      return `${ProfilerUrls.pinterest}?url=${url}&media=${url}` +\n        (title ? `&description=${title}` : '');\n\n    case Providers.skype:\n      return `${ProfilerUrls.skype}?url=${url}&source=button` + (title ? `&text=${title}` : '');\n\n    case Providers.whatsapp:\n      return `${ProfilerUrls.whatsapp}?text=${url}` + encodeURIComponent(' ') + (title || '');\n\n    case Providers.connectOk:\n      const shareUrlParam = 'st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl';\n\n      return `${ProfilerUrls.connectOk}?${shareUrlParam}=${url}`;\n\n    case Providers.xing:\n      return `${ProfilerUrls.xing}?op=share;url=${url}` + (title ? `;title=${title}` : '');\n\n    case Providers.mailto:\n      return (\n        ProfilerUrls.mailto +\n        (title ? '?subject=' + title : '') +\n        (title ? '&body=' : '?body=') +\n        (description ? description : '') +\n        ' ' +\n        url\n      );\n\n    default:\n      throw new Error(`Unknown social share provider: ${provider}`);\n  }\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nimport { DEFAULT_SHARE_URL_CONFIG_TOKEN } from './ng-social-links.tokens';\nimport {\n  NgSocialLinksProvider,\n  NgSocialLinksProviderConfig as Config\n} from '././ng-social-links.types';\nimport { Providers } from './ng-social-links.constants';\nimport * as utils from './ng-social-links.utils';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgSocialLinksService {\n  constructor(\n    @Inject(DOCUMENT) private document: Document,\n    @Inject(DEFAULT_SHARE_URL_CONFIG_TOKEN) private defaultConfig: Config\n  ) {}\n\n  /**\n   * Provides social share URL for a given provider.\n   * Addional configuration parameters depend on a chosen provider.\n   * @param provider Provider name.\n   * @param config Parameters used to build a social share URL.\n   */\n  getShareLink(\n    provider:\n      typeof Providers.facebook  |\n      typeof Providers.reddit    |\n      typeof Providers.connectOk,\n    config?: Pick<Config, 'url'>\n  ): string;\n  getShareLink(\n    provider:\n      typeof Providers.twitter   |\n      typeof Providers.linkedin  |\n      typeof Providers.vkontakte |\n      typeof Providers.telegram  |\n      typeof Providers.getpocket |\n      typeof Providers.evernote  |\n      typeof Providers.pinterest |\n      typeof Providers.skype     |\n      typeof Providers.whatsapp  |\n      typeof Providers.xing,\n    config?: Pick<Config, 'url' | 'title'>\n  ): string;\n  getShareLink(provider: typeof Providers.mailto, config?: Config): string;\n  getShareLink(provider: NgSocialLinksProvider, config?: Partial<Config>): string {\n    const url = config?.url || this.defaultConfig.url || this.document.location.origin;\n    const title = config?.title || this.defaultConfig.title;\n    const description = config?.description || this.defaultConfig.description;\n\n    return utils.getShareLink(provider, { url, title, description });\n  }\n}\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\n\nimport { NgSocialLinksService } from './ng-social-links.service';\nimport { DEFAULT_SHARE_URL_CONFIG_TOKEN } from './ng-social-links.tokens';\nimport { NgSocialLinksProviderConfig } from './ng-social-links.types';\n\n@NgModule()\nexport class NgSocialLinksModule {\n  static forRoot(config?: NgSocialLinksProviderConfig): ModuleWithProviders<NgSocialLinksModule> {\n    return {\n      ngModule: NgSocialLinksModule,\n      providers: [\n        NgSocialLinksService,\n        { provide: DEFAULT_SHARE_URL_CONFIG_TOKEN, useValue: config || {} }\n      ]\n    };\n  }\n}\n","/*\n * Public API Surface of ng-social-links\n */\n\nexport * from './lib/ng-social-links.module';\nexport * from './lib/ng-social-links.service';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {DEFAULT_SHARE_URL_CONFIG_TOKEN as ɵa} from './lib/ng-social-links.tokens';\nexport {NgSocialLinksProviderConfig as ɵb} from './lib/ng-social-links.types';"],"names":["InjectionToken","utils.getShareLink","Injectable","Inject","DOCUMENT","NgModule"],"mappings":"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"}